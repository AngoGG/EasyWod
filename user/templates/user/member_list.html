{% extends "website/base.html" %}
{% load static %}

{% block title %}
- Accueil {{ block.super }}
{% endblock %}

{% block content %}

<div class ="col-lg-12" style="margin-top:50px;">
    <div class="container contact-section">
        <div class ="text-center"><h3>Utilisateurs</h3></div>
        <table id="myTable" class="table table-striped table-hover" style="margin-top:25px;"style="margin-top:25px;">
            <thead>
                <tr>
                    <th scope="col" onclick="sortTable(0)">Nom</th>
                    <th scope="col" onclick="sortTable(1)">Prénom</th>
                    <th scope="col" onclick="sortTable(2)">Email</th>
                    <th scope="col" onclick="sortTable(3)">Date d'inscription</th>
                    <th scope="col" onclick="sortTable(4)">Type d'abonnement</th>
                    <th scope="col" onclick="sortTable(5)">Etat abonnement</th>
                    <th scope="col" onclick="sortTable(6)">Accès abonnement</th>
                </tr>
            </thead>
            <tbody>
                {% for user in object_list %}
                    <tr>
                        <td scope="row">{{ user.last_name }}</td>
                        <td>{{ user.first_name }}</td>
                        <td><a href="{% url "user:detail" user.pk%}">{{ user.email }}</a></td>
                        <td>{{ user.date_joined }}</td>
                        <td>{{user.user_membership.membership.membership_type }}</td>
                        <td>{% if user.email in active_membership %} Actif {% else %} Inactif {% endif %}</td>
                        <td><a href="{% url "membership:select" pk=user.pk%}" class="btn btn-secondary">Accéder</a></td>
                    </tr>
                {% endfor%}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}